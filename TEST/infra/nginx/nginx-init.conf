# ============================================
# Initial Nginx Configuration (Pre-Certbot)
# ============================================
# This configuration is used BEFORE SSL certificates are generated
# Use this for initial setup and Certbot domain validation
# After obtaining SSL certificates, switch to nginx-blue.conf or nginx-green.conf
# ============================================

server {
    listen 80;
    server_name test.loglens.store jenkins.loglens.store fluentbit.loglens.store;

    # Certbot이 도메인 소유권 검증을 위해 사용하는 경로
    # Let's Encrypt HTTP-01 Challenge
    location /.well-known/acme-challenge/ {
        root /var/www/html;
    }

    # 나머지 요청은 임시로 404 반환
    # SSL 인증서 발급 후 정상 설정으로 교체하세요
    location / {
        return 404;
    }
}
